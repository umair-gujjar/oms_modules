<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>
<template id="report_hryearlysalary">
    <t t-call="report.html_container">
        <t t-call="report.external_layout">
            <div class="page">
                 <h2 >Salary Sheet For <strong style="text-decoration: underline;"><t t-esc="get_periods(data['form'])">  </t></strong></h2>
                    <table class="table table-condensed table-bordered">
                        <thead>
                            <tr style="background-color:grey;border: 1px solid grey;">
                                <th>Sr No.</th>
                                <th>Employee Code</th>
                                <th>Employee Name</th>
                                <th>Designation</th>
                                <th>Cost Centre</th>
                                <th>Days Worked</th>
                                <th>Total Salary</th>
                                <th>Basic Salary</th>
                                <th>Medical</th>
                                <th>House Rent</th>
                                <th>Utilities</th>
                                <th>Cola</th>
                                <th>Gross Salary</th>
                                <th>Bonus</th>
                                <th>P Fund</th>
                                <th>Income Tax</th>
                                <th>Professional Tax</th>
                                <th>S.R Fund</th>
                                <th>EOBI</th>
                                <th>Loan and Advance</th>
                                <th>Food Expenses</th>
                                <th>Vechicle Running</th>
                                <th>Other</th>
                                <th>Total Deduction</th>
                                <th>Medical OPD</th>
                                <th>Fuel/others</th>
                                <th>Overtime</th>
                                <th>SR</th>
                                <th>Mobile Expenses</th>
                                <th>Other</th>
                                <th>Total</th>
                                <th>Net Transfer</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-set="i" t-value="1"/> 
                            <t t-set="total_salary" t-value="0.0" />
                            <t t-set="basic_salary" t-value="0.0" />
                            <t t-set="medical" t-value="0.0" />
                            <t t-set="house_rent" t-value="0.0" />
                            <t t-set="utility" t-value="0.0" />
                            <t t-set="cola" t-value="0.0" />
                            <t t-set="bonus" t-value="0.0" />
                            <t t-set="pf" t-value="0.0" />
                            <t t-set="tax" t-value="0.0" />
                            <t t-set="gross_salary" t-value="0.0" />
                            <t t-set="p_tax" t-value="0.0" />
                            <t t-set="sr_fund" t-value="0.0" />
                            <t t-set="eobi" t-value="0.0" />
                            <t t-set="loan" t-value="0.0" />
                            <t t-set="food_expense" t-value="0.0" />
                            <t t-set="vehicle_run" t-value="0.0" />
                            <t t-set="other" t-value="0.0" />
                            <t t-set="total_ded" t-value="0.0" />
                            <t t-set="med_opd" t-value="0.0" />
                            <t t-set="fuel_other" t-value="0.0" />
                            <t t-set="overtime" t-value="0.0" />
                            <t t-set="sr" t-value="0.0" />
                            <t t-set="mob_exp" t-value="0.0" />
                            <t t-set="other_other" t-value="0.0" />
                            <t t-set="total" t-value="0.0" />
                            <t t-set="net" t-value="0.0" />
                            <t t-foreach="get_employee(data['form'])" t-as="employee">
                                <tr style="font-weight: bold; background-color: #D3D3D3; font-size: 15px;"> 
                                    <td colspan="32">
                                        <span t-esc="employee['cost_centre']"/>
                                    </td>
                                </tr>

                            <tr t-foreach="get_employee_detail(employee['employee_idss'])"  t-as="data" > 
                            <td>
                                <t t-esc="i"/>
                                <t t-set="i" t-value="i+1"/>
                            </td>
                            <td>
                                <t t-if="data.employee_id">
                                    <span t-field="data.employee_id.otherid"/>
                                </t>
                            </td>
                            <td>
                                <t t-if="data.employee_id.name">
                                    <span t-field="data.employee_id.name"/>
                                </t>
                            </td>
                            <td>
                                <t t-if="data.employee_id.job_id">
                                    <span t-field="data.employee_id.job_id.name"/>
                                </t>
                            </td>
                            <td>
                                <t t-if="data.employee_id.cost_centre">
                                    <span t-field="data.employee_id.cost_centre"/>
                                </t>
                            </td>
                            <td>31</td>
                            <td>
                               <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'TOTAL SALARY'">
                                        <span t-field="info.total"/>
                                        <t t-set="total_salary" t-value="total_salary+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'BASIC'">
                                        <span t-field="info.total"/>
                                        <t t-set="basic_salary" t-value="basic_salary+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.category_id.code == 'MEDICAL'">
                                        <span t-field="info.total"/>
                                        <t t-set="medical" t-value="medical+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'HRA'">
                                        <span t-field="info.total"/>
                                        <t t-set="house_rent" t-value="house_rent+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'UTILITIES'">
                                        <span t-field="info.total"/>
                                        <t t-set="utility" t-value="utility+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'COLA'">
                                        <span t-field="info.total"/>
                                        <t t-set="cola" t-value="cola+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'GROSS'">
                                        <span t-field="info.total"/>
                                        <t t-set="gross_salary" t-value="gross_salary+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'BONUS'">
                                        <span t-esc="info.total"/>
                                        <t t-set="bonus" t-value="bonus+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'PF'">
                                        <span t-esc="info.total"/>
                                        <t t-set="pf" t-value="pf+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'TAX'">
                                        <span t-esc="info.total"/>
                                        <t t-set="tax" t-value="tax+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'PT'">
                                        <span t-esc="info.total"/>
                                        <t t-set="p_tax" t-value="p_tax+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'SRDED'">
                                        <span t-esc="info.total"/>
                                        <t t-set="sr_fund" t-value="sr_fund+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'EOBI'">
                                        <span t-esc="info.total"/>
                                        <t t-set="eobi" t-value="eobi+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'LOANDED'">
                                        <span t-esc="info.total"/>
                                        <t t-set="loan" t-value="loan+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'FE'">
                                        <span t-esc="info.total"/>
                                        <t t-set="loan" t-value="loan+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'VRUN'">
                                        <span t-esc="info.total"/>
                                        <t t-set="vehicle_run" t-value="vehicle_run+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'OD'">
                                        <span t-esc="info.total"/>
                                        <t t-set="other" t-value="other+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'TD'">
                                        <span t-esc="info.total"/>
                                        <t t-set="total_ded" t-value="total_ded+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'MED'">
                                        <span t-esc="info.total"/>
                                        <t t-set="med_opd" t-value="med_opd+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'FUEL'">
                                        <span t-esc="info.total"/>
                                        <t t-set="fuel_other" t-value="fuel_other+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'OT'">
                                        <span t-esc="info.total"/>
                                        <t t-set="overtime" t-value="overtime+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'SR'">
                                        <span t-esc="info.total"/>
                                        <t t-set="sr" t-value="sr+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'MOBEXP'">
                                        <span t-esc="info.total"/>
                                        <t t-set="mob_exp" t-value="mob_exp+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'OR'">
                                        <span t-esc="info.total"/>
                                        <t t-set="total_ded" t-value="total_ded+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'TR'">
                                        <span t-esc="info.total"/>
                                        <t t-set="total" t-value="total+info.total" />
                                    </t>
                                </t>
                            </td>
                            <td> 
                                <t t-foreach="data.line_ids"  t-as="info">
                                    <t t-if="info.code == 'NET'">
                                        <span t-esc="info.total"/>
                                        <t t-set="net" t-value="net+info.total" />
                                    </t>
                                </t>
                            </td>
                            </tr> 
                            </t>
                            <tr>
                                <td> Total</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td>
                                   <span t-esc="total_salary" />
                                </td>   
                                <td>
                                    <span t-esc="basic_salary"/>
                                </td>  
                                <td>  
                                    <span t-esc="medical"/>
                                </td>
                                <td>    
                                    <span t-esc="house_rent" />
                                </td>
                                <td>    
                                    <span t-esc="utility"/>
                                </td>
                                <td>    
                                    <span t-esc="cola" />
                                </td>    
                                <td>
                                    <span t-esc="bonus" />
                                </td>    
                                <td>
                                    <span t-esc="pf" />
                                </td>
                                <td>    
                                    <span t-esc="tax" />
                                </td>    
                                <td>
                                    <span t-esc="gross_salary" />
                                </td>
                                <td>    
                                    <span t-esc="p_tax" />
                                </td>
                                <td>    
                                    <span t-esc="sr_fund" />
                                </td>
                                <td>    
                                    <span t-esc="eobi" />
                                </td>
                                <td>    
                                    <span t-esc="loan" />
                                </td>    
                                <td>
                                    <span t-esc="food_expense" />
                                </td>
                                <td>     
                                    <span t-esc="vehicle_run" />
                                </td>
                                <td>    
                                    <span t-esc="other" />
                                </td>
                                <td>    
                                    <span t-esc="total_ded" />
                                </td>
                                <td>    
                                    <span t-esc="med_opd"  />
                                </td>
                                <td>    
                                    <span t-esc="fuel_other"  />
                                </td>
                                <td>    
                                    <span t-esc="overtime" />
                                </td>
                                <td>    
                                    <span t-esc="sr" />
                                </td>
                                <td>    
                                    <span t-esc="mob_exp"  />
                                </td> 
                                <td>   
                                    <span t-esc="other_other" />
                                </td>    
                                <td>    
                                    <span t-esc="total" />
                                </td>
                                <td>
                                    <span t-esc="net"/>
                                </td>    
                            </tr> 
                        </tbody>
                    </table>           
            </div> 
    </t>
</t>
</template>
</data>
</openerp>
